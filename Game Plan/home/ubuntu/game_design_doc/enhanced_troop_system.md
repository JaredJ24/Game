# Troop System

## Overview

The troop system in Pocket Tactics: Backpack Heroes represents the core tactical element of gameplay, providing players with collectible units that are deployed on the 3x3 grid during combat encounters. Unlike many traditional gacha games where characters simply execute abilities on a timer, the troop system in Pocket Tactics creates a deeply strategic experience through careful positioning, resource management, and synergistic combinations. Each troop occupies exactly one cell on the grid but requires different deployment resources based on their power level, abilities, and strategic value.

The system draws inspiration from Clash of Clans' housing space concept and Clash Royale's elixir management, but evolves these mechanics into a more sophisticated system that emphasizes spatial awareness and positional tactics. By limiting the player to just eight deployable troops at any time (with the player character always occupying the central position), every selection and placement decision becomes meaningful and consequential.

## Deployment Mechanics

### Energy Cost System

The Energy Cost system governs the moment-to-moment tactical decisions during combat encounters. Energy functions as the primary resource for deploying troops during battle, creating a dynamic economy that players must carefully manage to succeed in increasingly complex encounters.

Energy regenerates at a rate of 1 unit every 2.5 seconds during combat, with players beginning each encounter with 5 units. The maximum Energy capacity starts at 10 units and can be increased through backpack upgrades and progression milestones to a maximum of 15 units. This regeneration system creates a rhythm to combat encounters, where players must balance immediate tactical needs against future deployment opportunities.

Troop Energy costs range from 1 unit for basic troops to 8 units for legendary-tier units, with the distribution following a carefully balanced curve:

- Basic Troops (Common Rarity): 1-2 Energy
- Advanced Troops (Uncommon Rarity): 2-3 Energy
- Specialized Troops (Rare Rarity): 3-5 Energy
- Elite Troops (Epic Rarity): 4-6 Energy
- Legendary Troops (Legendary Rarity): 5-8 Energy

The Energy cost of a troop is determined by multiple factors including their base statistics (health and damage output), special abilities, affinity strength, and grid synergy potential. For example, a Fire Archer (Uncommon) costs 2 Energy due to its moderate damage and range, while a Thunder Berserker (Epic) costs 5 Energy because of its high damage output and chain attack capabilities.

Players must make strategic decisions about Energy expenditure throughout combat. Deploying multiple low-cost troops can create immediate pressure but may leave the player vulnerable if the opponent counters with area-of-effect abilities. Conversely, saving Energy for high-cost troops provides access to powerful abilities but risks being overwhelmed in the early stages of combat. This tension creates a dynamic decision space that rewards both reactive play and long-term planning.

The Energy system also interacts with the game's progression mechanics. As players advance through the story and defeat bosses, they unlock Energy efficiency upgrades that can reduce the cost of specific troop types by up to 15%. These upgrades are tied to the Nostalgia Meter progression, creating a meaningful connection between the narrative collection of memories and tactical advantages in combat.

### Squad Capacity Management

While the Energy system governs in-combat deployment, the Squad Capacity system determines the strategic composition of troops that players bring into each encounter. This system creates a meaningful preparation phase before combat and ensures that players cannot simply rely on filling their squad with the highest-rarity troops available.

Each player has a total Squad Capacity that limits the combined deployment cost of all troops selected for their active squad. The base Squad Capacity starts at 20 units and can be increased through backpack upgrades, story progression, and special items to a maximum of 40 units. This capacity must be distributed across the eight available grid positions surrounding the player character.

Troops require different amounts of Squad Capacity based on their overall power level and strategic utility:

- Basic Troops (Common Rarity): 1-2 Capacity
- Advanced Troops (Uncommon Rarity): 2-3 Capacity
- Specialized Troops (Rare Rarity): 3-4 Capacity
- Elite Troops (Epic Rarity): 4-5 Capacity
- Legendary Troops (Legendary Rarity): 5-7 Capacity

The Squad Capacity requirement is distinct from the Energy cost, creating two separate but interconnected resource systems that players must consider. A troop might have a high Energy cost but moderate Capacity requirement (making it difficult to deploy in battle but easier to include in your squad), or vice versa (easy to deploy but consuming a large portion of your available squad slots).

Players must carefully consider their Squad Capacity allocation based on the challenges they expect to face. For boss encounters with specific mechanics, players might choose to bring specialized troops that counter those mechanics, even if it means sacrificing raw power. For exploration and standard combat, a more balanced approach might be preferable.

The Squad Capacity system also creates meaningful progression through the backpack upgrade system. Each backpack type offers different Squad Capacity bonuses and specializations:

- Balanced Backpack: Even distribution of capacity bonuses across all troop types
- Tech Backpack: Increased capacity for Electric and Light affinity troops
- Heavy Backpack: Increased capacity for Fire and Nature affinity troops
- Stealth Backpack: Increased capacity for Water and Dark affinity troops
- Support Backpack: Special capacity bonus for Support category troops regardless of affinity

These specializations encourage players to develop coherent squad strategies that align with their preferred backpack type, creating distinctive playstyles that feel meaningfully different from one another.

## Troop Categories and Roles

The troop system in Pocket Tactics features distinct categories that fulfill different tactical roles during combat. Unlike many gacha games where categories are merely labels, in Pocket Tactics these roles fundamentally change how troops interact with the grid combat system and create distinctive gameplay experiences.

### Attackers

Attacker troops specialize in dealing damage to enemies and form the offensive core of most squad compositions. They typically have moderate to high damage output but lower health pools, requiring strategic positioning to maximize their effectiveness while minimizing their vulnerability.

Attackers are further subdivided into specialized roles that create distinct tactical options:

Single-Target Attackers focus their damage on individual enemies, making them ideal for eliminating high-priority threats. Their damage output is typically 30-50% higher than other attacker types, but they lack area control. Examples include the Precision Sniper (Water affinity) and Flame Lancer (Fire affinity).

Area-of-Effect (AoE) Attackers deal damage to multiple enemies simultaneously, though usually at a reduced damage rate compared to single-target specialists. They excel at controlling space and dealing with multiple weaker opponents. The damage reduction typically follows a scaling formula where the primary target receives 100% damage, while secondary targets receive 60%, and tertiary targets receive 30%. Examples include the Thunder Mage (Electric affinity) and Whirlwind Druid (Nature affinity).

Sustained Damage Attackers deal moderate damage initially but can stack effects or increase their damage output over time if they remain in position. These troops reward forward planning and protected positioning. Their damage typically increases by 15-25% for each turn they remain active, up to a maximum of 100% increased damage. Examples include the Shadow Assassin (Dark affinity) and Solar Warmage (Light affinity).

Burst Damage Attackers deal significant damage in a single attack but then require a cooldown period before attacking again. These troops create windows of opportunity that must be capitalized upon. Their damage output can be 75-100% higher than comparable troops, but with cooldowns ranging from 3-5 seconds. Examples include the Frost Cannon (Water affinity) and Volcanic Golem (Fire affinity).

The positioning of Attacker troops on the grid is crucial to their effectiveness. Front-line positions (the three grid cells in front of the player) provide attackers with immediate engagement opportunities but expose them to enemy counterattacks. Side positions offer better protection but may limit targeting options depending on the troop's attack pattern. Rear positions provide the most protection but may be out of range for troops with limited attack distance.

Attackers also interact with the affinity system to create strategic depth. When positioned adjacent to troops of complementary affinities, attackers can trigger combo effects that enhance their damage output or add secondary effects. For example, a Fire affinity attacker positioned next to a Wind affinity support troop might gain increased attack speed, while positioning next to a Water affinity troop might convert some of their damage to steam effects that bypass armor.

### Defenders

Defender troops specialize in protecting the player and other troops, controlling space on the grid, and absorbing enemy attacks. They typically have high health pools, damage mitigation abilities, and control effects that disrupt enemy positioning and tactics.

Defenders are subdivided into specialized roles that create different defensive strategies:

Tank Defenders have exceptionally high health pools (typically 100-150% higher than other troops of equivalent rarity) and damage reduction capabilities. They excel at absorbing damage that would otherwise hit more vulnerable troops. Many Tank Defenders have taunt abilities that force enemies to target them instead of other troops. Examples include the Stone Guardian (Nature affinity) and Steel Sentinel (Electric affinity).

Control Defenders focus on disrupting enemy movement and abilities rather than simply absorbing damage. They have moderate health pools but powerful crowd control effects such as slows, stuns, and pushback abilities. These effects typically last 1-3 seconds depending on the power level of the troop. Examples include the Frost Warden (Water affinity) and Gravity Manipulator (Dark affinity).

Counter Defenders have specialized abilities that activate when they are attacked, punishing enemies for targeting them. These counterattack effects typically deal 30-50% of the defender's base attack value as reactive damage. Examples include the Flame Shield (Fire affinity) and Mirror Knight (Light affinity).

Regenerative Defenders have self-healing capabilities that allow them to sustain their position for extended periods. Their regeneration typically restores 3-8% of their maximum health per second, depending on their rarity and specialization. Examples include the Ancient Treant (Nature affinity) and Vampiric Guardian (Dark affinity).

The positioning of Defender troops requires careful consideration of both protection priorities and tactical opportunities. Front-line positions allow defenders to intercept enemies before they reach more vulnerable troops, while side positions can create protective flanks. Some specialized defenders work best in rear positions, where they can provide aura effects that benefit multiple troops in front of them.

Defenders interact with the grid terrain system in unique ways, often gaining bonuses when positioned on certain terrain types. For example, Nature affinity defenders gain increased regeneration when positioned on grass terrain, while Water affinity defenders can create ice terrain that slows enemy movement. These interactions encourage players to consider both the initial grid configuration and how it might change during combat.

The relationship between defenders and the player character is particularly important, as the player always occupies the central grid position. Defenders positioned adjacent to the player often receive special bonuses, such as increased taunt radius or damage reduction. This creates a meaningful choice between positioning defenders to protect the player directly or using them to secure the perimeter of the grid.

### Support

Support troops focus on enhancing the capabilities of other troops, manipulating the grid terrain, and providing utility effects that create tactical advantages. While they typically have lower direct combat stats, their ability to multiply the effectiveness of other troops makes them invaluable in well-constructed squads.

Support troops are subdivided into specialized roles that enable different squad strategies:

Buffer Supports enhance the combat statistics of nearby troops, increasing their effectiveness in battle. These buffs typically provide 15-30% increases to specific stats such as attack damage, attack speed, or critical hit chance. The buffs usually affect troops in adjacent grid cells, creating important positioning considerations. Examples include the Courage Banner (Light affinity) and Battle Drummer (Fire affinity).

Healer Supports restore health to damaged troops, extending their combat effectiveness and allowing for more sustained engagements. Healing effects typically restore 5-12% of the target's maximum health per second, with the exact amount depending on the healer's rarity and specialization. Healing can be delivered as single-target focused restoration or area-of-effect gradual regeneration. Examples include the Restoration Sprite (Nature affinity) and Tidal Cleric (Water affinity).

Terrain Manipulators change the properties of grid cells, creating advantageous conditions for friendly troops or hazardous environments for enemies. These terrain effects typically last 5-10 seconds and provide various effects such as movement speed modifications, damage amplification, or resource generation. Examples include the Earthshaper (Nature affinity) and Storm Caller (Electric affinity).

Utility Supports provide unique effects that don't fit into standard categories but create strategic options. These include troops that can teleport others to new positions, temporarily make troops invulnerable, or convert enemy buffs into debuffs. Examples include the Phase Shifter (Light affinity) and Chaos Weaver (Dark affinity).

The positioning of Support troops creates interesting tactical puzzles, as they must be close enough to their intended targets to provide benefits while remaining protected from enemy attacks. This often leads to formations where support troops occupy central or rear positions, surrounded by the troops they enhance.

Support troops interact with the Energy system in unique ways, with many having abilities that can accelerate Energy regeneration or reduce the Energy cost of deploying specific troop types. This creates a strategic layer where properly utilized support troops can enable more frequent deployment of powerful units, effectively multiplying the squad's overall combat potential.

The relationship between Support troops and the player character is particularly synergistic, as many support abilities have increased effectiveness when the troop is adjacent to the player. This creates a meaningful choice between keeping supports close to the player for maximum effect or distributing them throughout the formation to benefit multiple troops.

## Troop Affinities and Elemental Interactions

The affinity system in Pocket Tactics creates a layer of strategic depth through elemental interactions, counter relationships, and synergistic combinations. Unlike simple rock-paper-scissors systems found i<response clipped><NOTE>To save on context only part of this file has been shown to you. You should retry this tool after you have searched inside the file with `grep -n` in order to find the line numbers of what you are looking for.</NOTE>